{"version":3,"sources":["../typing-animation.directive.ts"],"names":[],"mappings":"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","file":"typing-animation.directive.js","sourceRoot":"","sourcesContent":["import {\n    Directive, OnInit, OnChanges,\n    ElementRef, Input, Output,\n    EventEmitter, SimpleChanges,\n    AfterViewInit, \n} from '@angular/core'\nimport { Typed } from './typed'\nimport { Observable } from 'rxjs/Observable';\nimport { Subscription } from 'rxjs/Subscription'\n\n\nexport class TypingAnimationDirective implements OnInit, OnChanges, AfterViewInit {\n    typed: Typed\n     typeSpeed: number = 0\n     startDelay: number = 0\n     condition: boolean = true\n     hideCursorOnComplete: boolean = false\n     complete: EventEmitter<null> = new EventEmitter()\n    typingLock: boolean = false\n    contentObservable: Observable<string>\n    contentSubscription: Subscription\n\n    constructor (private elRef: ElementRef) {}\n\n    ngOnInit () {\n        if (!this.checkContent()) {\n            return\n        }\n\n        this.createTyped()\n    }\n\n    ngAfterViewInit () {\n        if (this.typed) {\n            return\n        }\n\n        if (!this.checkContent()) {\n            this.contentObservable = new Observable((ob) => {\n                if (this.checkContent()) {\n                    ob.next(this.elRef.nativeElement.textContent.trim())\n                    ob.complete()\n                }\n            })\n    \n            this.contentSubscription = this.contentObservable.subscribe((content) => {\n                this.createTyped()\n                this.contentSubscription.unsubscribe()\n            })\n\n            return\n        }\n\n        this.createTyped()\n    }\n\n    ngOnChanges (changes: SimpleChanges) {\n        if (('condition' in changes) && this.typed) {\n            if (this.typingLock) {\n                return\n            }\n\n            if (this.condition) {\n                this.typed.begin()\n                this.typingLock = true\n            }\n        }\n    }\n\n    private checkContent () {\n        return this.elRef.nativeElement.textContent.trim().length > 0\n    }\n\n    private createTyped () {\n        this.typed = new Typed(this.elRef.nativeElement, {\n            typeSpeed: this.typeSpeed,\n            startDelay: this.startDelay,\n            condition: this.condition,\n            hideCursorOnComplete: this.hideCursorOnComplete,\n            onComplete: () => {\n                this.complete.emit(null)\n                this.typingLock = false\n            }\n        })\n\n        if (this.condition) {\n            this.typed.begin()\n            this.typingLock = true\n        }\n    }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n    selector: '[typingAnimation]'\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'typeSpeed': [{ type: Input, args: ['typeSpeed', ] },],\n'startDelay': [{ type: Input, args: ['startDelay', ] },],\n'condition': [{ type: Input, args: ['condition', ] },],\n'hideCursorOnComplete': [{ type: Input, args: ['hideCursorOnComplete', ] },],\n'complete': [{ type: Output, args: ['complete', ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}